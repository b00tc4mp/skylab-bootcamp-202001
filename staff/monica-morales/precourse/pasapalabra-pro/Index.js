var questions = [
    [        
        { letter: "a", answer: "anglosajon", status: 0, question: "CON LA A. Dicho de una persona: De procedencia y lengua inglesas" },
        { letter: "a", answer: "aroma", status: 0, question: "CON LA A. Perfume, olor muy agradable" },
        { letter: "a", answer: "acera", status: 0, question: "CON LA A. Orilla de la calle o de otra vía pública" },
    ],
    [
        { letter: "b", answer: "baraja", status: 0, question: "CON LA B. Conjunto completo de cartas empleado para juegos de azar" },
        { letter: "b", answer: "beato", status: 0, question: "CON LA B. Dicho de una persona: Beatificada por el papa" },
        { letter: "b", answer: "buhardilla", status: 0, question: "CON LA B. Parte de un edificio situada inmediatamente debajo del tejado, con techo en pendiente y destinada a vivienda" },
    ],
    [
        { letter: "c", answer: "ceja", status: 0, question: "CON LA C. Parte de la cara, prominente, curvilínea y cubierta de pelo, situada sobre la cuenca del ojo" },
        { letter: "c", answer: "cian", status: 0, question: "CON LA C. Dicho de un color: Azul verdoso, complementario del rojo" },
        { letter: "c", answer: "corona", status: 0, question: "CON LA C. Aro, hecho de flores, de ramas o de metal, que ciñe la cabeza y se usa como adorno, insignia honorífica o símbolo de dignidad o realeza" },
    ],
    [
        { letter: "d", answer: "dibujo", status: 0, question: "CON LA D.  Delineación o imagen dibujada" },
        { letter: "d", answer: "dedal", status: 0, question: "CON LA D. Utensilio pequeño, ligeramente cónico y hueco, con la superficie llena de hoyuelos y cerrado a veces por un casquete esférico para proteger el dedo al coser" },
        { letter: "d", answer: "duda", status: 0, question: "CON LA D. Suspensión o indeterminación del ánimo entre dos juicios o dos decisiones, o bien acerca de un hecho o una noticia" },
    ],
    [
        { letter: "e", answer: "entrada", status: 0, question: "CON LA E. Espacio por donde se entra a alguna parte" },
        { letter: "e", answer: "emanacion", status: 0, question: "CON LA E. Acción y efecto de emanar" },
        { letter: "e", answer: "embalsamador", status: 0, question: "CON LA E. adj. Que embalsama" },
    ],
    [
        { letter: "f", answer: "fiebre", status: 0, question: "CON LA F. Fenómeno patológico que se manifiesta por elevación de la temperatura normal del cuerpo y mayor frecuencia del pulso y la respiración" },
        { letter: "f", answer: "faba", status: 0, question: "CON LA F. Fruto y semilla de la judía" },
        { letter: "f", answer: "fobia", status: 0, question: "CON LA F. Aversión exagerada a alguien o a algo" },
    ],
    [
        { letter: "g", answer: "gato", status: 0, question: "CON LA G. Mamífero carnívoro de la familia de los félidos, digitígrado, doméstico, de unos 50 cm de largo desde la cabeza hasta el arranque de la cola" },
        { letter: "g", answer: "gobernador", status: 0, question: "CON LA G. Que gobierna" },
        { letter: "g", answer: "genoma", status: 0, question: "CON LA G. Secuencia de nucleótidos que constituye el ADN de un individuo o de una especie" },
    ],
    [
        { letter: "h", answer: "higo", status: 0, question: "CON LA H. Segundo fruto, o el más tardío, de la higuera, blando, de gusto dulce" },
        { letter: "h", answer: "hobbit", status: 0, question: "CON LA H. Habitantes de la Comarca, raza del protagonista de la famosa trilogía de J.R.R. Tolkien" },
        { letter: "h", answer: "habitacion", status: 0, question: "CON LA H. En una vivienda, cada uno de los espacios entre tabiques destinados a dormir, comer, etc" },
    ],
    [
        { letter: "i", answer: "invadir", status: 0, question: "CON LA I. Irrumpir, entrar por la fuerza" },
        { letter: "i", answer: "intencion", status: 0, question: "CON LA I. Determinación de la voluntad en orden a un fin" },
        { letter: "i", answer: "impulsar", status: 0, question: "CON LA I. Dar empuje para producir movimiento" },
    ],
    [
        { letter: "j", answer: "jamon", status: 0, question: "CON LA J. Pierna trasera del cerdo, curada o cocida entera" },
        { letter: "j", answer: "juramento", status: 0, question: "CON LA J. Afirmación o negación de algo, poniendo por testigo a Dios, o en sí mismo o en sus criaturas" },
        { letter: "j", answer: "jabalina", status: 0, question: "CON LA J. Arma, a manera de pica o venablo, que se usaba más comúnmente en la caza mayor, y actualmente en una modalidad deportiva" },
    ],
    [
        { letter: "k", answer: "koala", status: 0, question: "CON LA K. Mamífero marsupial arborícola parecido a un oso pequeño, propio de los eucaliptales australianos" },
        { letter: "k", answer: "kosobar", status: 0, question: "CON LA K. Natural de Kosovo, provincia autónoma de Serbia" },
        { letter: "k", answer: "kilobyte", status: 0, question: "CON LA K. Unidad equivalente a 1024 (210) bytes" },

    ],
    [
        { letter: "l", answer: "lealtad", status: 0, question: "CON LA L. Cumplimiento de lo que exigen las leyes de la fidelidad y las del honor y hombría de bien" },
        { letter: "l", answer: "loro", status: 0, question: "CON LA L. Papagayo, ave, y más particularmente el que tiene el plumaje con fondo rojo" },
        { letter: "l", answer: "liar", status: 0, question: "CON LA L. Formar un cigarrillo envolviendo la picadura en el papel de fumar" },
    ],
    [
        { letter: "m", answer: "musculo", status: 0, question: "CON LA M. Órgano compuesto principalmente de fibras contráctiles" },
        { letter: "m", answer: "monte", status: 0, question: "CON LA M. Gran elevación natural del terreno" },
        { letter: "m", answer: "mundana", status: 0, question: "CON LA M. Dicho de una persona: Inclinada a los placeres y frivolidades de la vida social" },
    ],
    [
        { letter: "n", answer: "neandertal", status: 0, question: "CON LA N. Dicho de un individuo: De un grupo extinto de homínidos que vivió en gran parte de Europa y parte de Asia durante el Paleolítico medio" },
        { letter: "n", answer: "necio", status: 0, question: "CON LA N. Ignorante y que no sabe lo que podía o debía saber" },
        { letter: "n", answer: "no", status: 0, question: "CON LA N. Expresa negación" },
    ],
    [
        { letter: "ñ", answer: "antaño", status: 0, question: "CONTIENE LA Ñ. En un tiempo pasado" },
        { letter: "ñ", answer: "añorar", status: 0, question: "CONTIENE LA Ñ. Recordar con pena la ausencia, privación o pérdida de alguien o algo muy querido" },
        { letter: "ñ", answer: "ñu", status: 0, question: "CONTIENE LA Ñ. Mamífero rumiante africano de la familia de los antílopes, de color pardo grisáceo, cuya cabeza recuerda la de un toro" },
    ],
    [
        { letter: "o", answer: "orar", status: 0, question: "CON LA O. Hablar en público para persuadir y convencer a los oyentes o mover su ánimo" },
        { letter: "o", answer: "once", status: 0, question: "CON LA O. Diez más uno" },
        { letter: "o", answer: "oso", status: 0, question: "CON LA O. Mamífero carnívoro plantígrado, de gran tamaño, de pelaje pardo, largo y espeso, cabeza grande, ojos pequeños, extremidades fuertes y gruesas, con garras, y cola muy corta, que vive en los montes boscosos" },
    ],
    [
        { letter: "p", answer: "presa", status: 0, question: "CON LA P. Muro grueso de piedra u otro material que se construye a través de un río, arroyo o canal, para almacenar el agua a fin de derivarla o regular su curso fuera del cauce" },
        { letter: "p", answer: "peaje", status: 0, question: "CON LA P. Derecho de tránsito" },
        { letter: "p", answer: "poliglota", status: 0, question: "CON LA P. Dicho de una persona: Que habla varias lenguas" },
    ],
    [
        { letter: "q", answer: "quiste", status: 0, question: "CON LA Q. Vejiga membranosa que se desarrolla anormalmente en diferentes regiones del cuerpo y que contiene líquido o materias alteradas" },
        { letter: "q", answer: "empaquetar", status: 0, question: "CON LA Q. Hacer paquetes" },
        { letter: "q", answer: "adquirir", status: 0, question: "CON LA Q. Ganar, conseguir con el propio trabajo o industria" },
    ],
    [
        { letter: "r", answer: "robert", status: 0, question: "CON LA R. Cabeza de la casa Baratheon y Rey de los Siete Reinos hasta su muerte" },
        { letter: "r", answer: "robar", status: 0, question: "CON LA R. Quitar o tomar para sí con violencia o con fuerza lo ajeno" },
        { letter: "r", answer: "resina", status: 0, question: "CON LA R. Sustancia sólida o de consistencia pastosa, insoluble en el agua, soluble en el alcohol y en los aceites esenciales, y capaz de arder en contacto con el aire, obtenida naturalmente como producto que fluye de varias plantas" },
    ],
    [
        { letter: "s", answer: "sopa", status: 0, question: "CON LA S. Plato compuesto de un caldo y uno o más ingredientes sólidos cocidos en él" },
        { letter: "s", answer: "soplar", status: 0, question: "CON LA S. Despedir aire con violencia por la boca, alargando los labios un poco abiertos por su parte media" },
        { letter: "s", answer: "sentimiento", status: 0, question: "CON LA S. Hecho o efecto de sentir o sentirse" },
    ],
    [
        { letter: "t", answer: "tirano", status: 0, question: "CON LA T. Dicho de una persona: Que obtiene contra derecho el gobierno de un Estado, especialmente si lo rige sin justicia y a medida de su voluntad" },
        { letter: "t", answer: "tension", status: 0, question: "CON LA T. Estado de un cuerpo sometido a la acción de fuerzas opuestas que lo atraen" },
        { letter: "t", answer: "tubo", status: 0, question: "CON LA T. Pieza hueca, de forma por lo común cilíndrica y generalmente abierta por ambos extremos" },
    ],
    [
        { letter: "u", answer: "uralita", status: 0, question: "CON LA U. Material de construcción hecho a base de cemento y de fibras, generalmente de asbesto, usado sobre todo en cubiertas y tejados" },
        { letter: "u", answer: "urticaria", status: 0, question: "CON LA U. Enfermedad eruptiva de la piel, cuyo síntoma más notable es una comezón parecida a la que producen las picaduras de la ortiga" },
        { letter: "u", answer: "unir", status: 0, question: "CON LA U. Hacer que una cosa esté al lado de otra, o en contacto con ella formando un todo" },
    ],
    [
        { letter: "v", answer: "vertebrado", status: 0, question: "CON LA V. Que tiene vértebras" },
        { letter: "v", answer: "vocal", status: 0, question: "CON LA V. Perteneciente o relativo a la voz" },
        { letter: "v", answer: "vertedero", status: 0, question: "CON LA V. Lugar adonde o por donde se vierte algo" },
    ],
    [
        { letter: "w", answer: "wolframio", status: 0, question: "CONTIENE LA W. ambién conocido como tungsteno,​ es un elemento químico de número atómico 74 que se encuentra en el grupo 6 de la tabla periódica de los elementos. Su símbolo es W." },
        { letter: "w", answer: "wasabi", status: 0, question: "CONTIENE LA W.  Pasta de color verde y picante que se sirve para acompañar delicias como el sushi o el sashimi" },
        { letter: "w", answer: "weber", status: 0, question: "CONTIENE LA W. Unidad de flujo magnético del sistema internacional, equivalente al flujo magnético que, al atravesar un circuito de una sola espira, símboo wb" },
    ],
    [
        { letter: "x", answer: "mexico", status: 0, question: "CONTIENE LA X. País de América ubicado en la parte meridional de América del Norte" },
        { letter: "x", answer: "xenon", status: 0, question: "CONTIENE LA X. Elemento químico o cuerpo simple, gaseoso, incoloro e inodoro, encontrado en el aire" },
        { letter: "x", answer: "silofono", status: 0, question: "CONTIENE LA X. Instrumento músico compuesto de láminas de madera, sostenidas por hilos de seda o cuerda de tripa, de espesor y longitud tales que, golpeados con un martillo dan notas diferentes" },
    ],
    [
        { letter: "y", answer: "ayahuasca", status: 0, question: "CONTIENE LA Y. Liana de la selva de cuyas hojas se prepara un brebaje de efectos alucinógenos, empleado por chamanes con fines curativos"},
        { letter: "y", answer: "yihad", status: 0, question: "CONTIENE LA Y. Guerra santa de los musulmanes"},
        { letter: "y", answer: "yacare", status: 0, question: "CONTIENE LA Y. Caimán"},
    ],
    [
        { letter: "z", answer: "zapato", status: 0, question: "CON LA Z. Calzado que no pasa del tobillo, con la parte inferior de suela y lo demás de piel"},
        { letter: "z", answer: "zorro", status: 0, question: "CON LA Z. Mamífero cánido de menos de un metro de longitud, incluida la cola, de hocico alargado y orejas empinadas, pelaje de color pardo rojizo y muy espeso"},
        { letter: "z", answer: "zocatearse", status: 0, question: "CON LA Z. Dicho de un fruto: Ponerse zocato"},
    ] 
];

//contadores
var aciertos=0;
var fallos=0;
var score=[];
var questionsRandom=[];

//Esta función selecciona preguntas aleatorias.
function questionRandom(){
    for(i in questions){
        let random=Math.floor(Math.random() * 3);
        questionsRandom.push(questions[i][random]);    }
};

//Esta función lanza la pregunta y le indica al jugador si ha acertado o no.
var pregunta;
function question(){
    for(i in questionsRandom){
        pregunta=prompt(questionsRandom[i].question).toLocaleLowerCase();
        if(pregunta==='end'){
            alert(`Fin del juego, has acertado ${aciertos} letras.`); 
            break;
        }if(pregunta===''){
            alert('Por favor, introduzca una respuesta o PASAPALABRA.');
            pregunta = prompt(questionsRandom[i].question).toLocaleLowerCase();
        }if(pregunta===questionsRandom[i].answer){
            questionsRandom[i].status='OK';
            aciertos++;
        }else if(pregunta==='pasapalabra'){
            questionsRandom[i].status='PASAPALABRA';
        }else if(pregunta!=questions[i].answer){
            questionsRandom[i].status='WRONG';
            alert(`Ohhhh, la palabra correcta es: ${(questionsRandom[i].answer).toUpperCase()}.`);
            fallos++;
        }
    }
};
    
//Esta función lanza las preguntas que en la vuelta anterior el jugador dejó pendiente con 'PASAPALABRA'.

function nextRound(){
    for(i in questionsRandom){
        if(questionsRandom[i].status==='PASAPALABRA'){
            pregunta=prompt(questionsRandom[i].question).toLocaleLowerCase();
        if(pregunta==='end'){
            alert(`Fin del juego, has acertado ${aciertos} letras.`);  
            break;
        }if(pregunta===''){
            alert('Por favor, introduzca una respuesta o PASAPALABRA.');
            pregunta = prompt(questionsRandom[i].question).toLocaleLowerCase();
        }if(pregunta===questionsRandom[i].answer){
            questionsRandom[i].status='OK';
            aciertos++;
        }else if(pregunta==='pasapalabra'){
            questionsRandom[i].status='PASAPALABRA';
        }else if(pregunta!=questionsRandom[i].answer){
            questionsRandom[i].status='WRONG';
            alert(`Ohhhh, la palabra correcta es: ${(questionsRandom[i].answer).toUpperCase()}.`);
            fallos++;
        }
        }
    }
    if(fallos+aciertos!=27){
    nextRound();
    }else{
        return false;
    }
};

//Función que muestra los fallos y aciertos y el ranking según los puntos conseguidos.
function ranking(){
    if (fallos+aciertos===27){
    score.push({name: name, aciertos: aciertos});
    score.sort(function(a,b){
        return (b.aciertos-a.aciertos);
    });

    for(i in score){
    alert(`Jugador: ${score[i].name}, letras acertadas: ${aciertos}, letras falladas: ${fallos}, puntuación: ${score[i].aciertos} puntos.`);
    }
}else{
    return false;
}
};

//Pregunta el nombre al jugador.
var name=prompt('Por favor, introduzca su nombre.');

//Esta función engloba todas las funciones para que se ejecute el juego.
function gamePasapalabra(){
    alert(`${name}, vamos a jugar a PASAPALABRA\n Comencemos..., mucha SUERTE!!!`);
    questionRandom();
    question();
    if(pregunta==='end'){
        return false;
    }
   nextRound();
    if(pregunta==='end'){
        return false;
    }
    ranking();
};
  
gamePasapalabra();

